"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[550],{5318:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var a=n(7378);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),d=l,h=c["".concat(s,".").concat(d)]||c[d]||m[d]||i;return n?a.createElement(h,r(r({ref:t},u),{},{components:n})):a.createElement(h,r({ref:t},u))}));function d(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=n.length,r=new Array(i);r[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:l,r[1]=o;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},517:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(7378);function l(e){var t=e.children,n=e.hidden,l=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:l},t)}},637:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(5773),l=n(7378),i=n(6457),r=n(1429),o=n(8944),s="tabItem_WhCL";function p(e){var t,n,i,p=e.lazy,u=e.block,m=e.defaultValue,c=e.values,d=e.groupId,h=e.className,k=l.Children.map(e.children,(function(e){if((0,l.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=c?c:k.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),v=(0,r.duplicates)(f,(function(e,t){return e.value===t.value}));if(v.length>0)throw new Error('Docusaurus error: Duplicate values "'+v.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===m?m:null!=(t=null!=m?m:null==(n=k.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(i=k[0])?void 0:i.props.value;if(null!==g&&!f.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+f.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var N=(0,r.useTabGroupChoice)(),w=N.tabGroupChoices,b=N.setTabGroupChoices,C=(0,l.useState)(g),y=C[0],T=C[1],I=[],x=(0,r.useScrollPositionBlocker)().blockElementScrollPositionUntilNextRender;if(null!=d){var P=w[d];null!=P&&P!==y&&f.some((function(e){return e.value===P}))&&T(P)}var O=function(e){var t=e.currentTarget,n=I.indexOf(t),a=f[n].value;a!==y&&(x(t),T(a),null!=d&&b(d,a))},E=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=I.indexOf(e.currentTarget)+1;n=I[a]||I[0];break;case"ArrowLeft":var l=I.indexOf(e.currentTarget)-1;n=I[l]||I[I.length-1]}null==(t=n)||t.focus()};return l.createElement("div",{className:"tabs-container"},l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":u},h)},f.map((function(e){var t=e.value,n=e.label,i=e.attributes;return l.createElement("li",(0,a.Z)({role:"tab",tabIndex:y===t?0:-1,"aria-selected":y===t,key:t,ref:function(e){return I.push(e)},onKeyDown:E,onFocus:O,onClick:O},i,{className:(0,o.Z)("tabs__item",s,null==i?void 0:i.className,{"tabs__item--active":y===t})}),null!=n?n:t)}))),p?(0,l.cloneElement)(k.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):l.createElement("div",{className:"margin-vert--md"},k.map((function(e,t){return(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==y})}))))}function u(e){var t=(0,i.Z)();return l.createElement(p,(0,a.Z)({key:String(t)},e))}},315:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return u},default:function(){return k},frontMatter:function(){return p},metadata:function(){return m},toc:function(){return d}});var a=n(5773),l=n(808),i=(n(7378),n(5318)),r=n(637),o=n(517),s=["components"],p={title:"Autolink extension",sidebar_label:"Autolinking"},u=void 0,m={unversionedId:"exts/autolink",id:"exts/autolink",title:"Autolink extension",description:"Autolinking is the concept of matching patterns within a string and wrapping the matched result in",source:"@site/docs/exts/autolink.mdx",sourceDirName:"exts",slug:"/exts/autolink",permalink:"/docs/exts/autolink",editUrl:"https://github.com/milesj/interweave/edit/master/website/docs/exts/autolink.mdx",tags:[],version:"current",frontMatter:{title:"Autolink extension",sidebar_label:"Autolinking"},sidebar:"docs",previous:{title:"Filters",permalink:"/docs/filters"},next:{title:"Emojis",permalink:"/docs/exts/emoji"}},c={},d=[{value:"Installation",id:"installation",level:2},{value:"URLs",id:"urls",level:2},{value:"TLD support",id:"tld-support",level:3},{value:"Props",id:"props",level:3},{value:"Result",id:"result",level:3},{value:"IPs",id:"ips",level:2},{value:"Props",id:"props-1",level:3},{value:"Result",id:"result-1",level:3},{value:"Emails",id:"emails",level:2},{value:"Props",id:"props-2",level:3},{value:"Result",id:"result-2",level:3},{value:"Hashtags",id:"hashtags",level:2},{value:"Props",id:"props-3",level:3},{value:"Result",id:"result-3",level:3}],h={toc:d};function k(e){var t=e.components,n=(0,l.Z)(e,s);return(0,i.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Autolinking is the concept of matching patterns within a string and wrapping the matched result in\nan anchor link. This process is achieved through Interweave matchers."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note: The regex patterns used in autolinking do not conform to their official RFC specifications,\nas we need to take into account word boundaries, punctuation, and more. Instead, the patterns will\ndo their best to match against the majority of common use cases.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"<Interweave\n    content=\"This contains a URL, https://github.com/milesj/interweave, and a #hashtag, that will be converted to an anchor link!\"\n    matchers={[new UrlMatcher('url'), new HashtagMatcher('hashtag')]}\n/>\n")),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)(r.Z,{groupId:"package-manager",defaultValue:"yarn",values:[{label:"Yarn",value:"yarn"},{label:"NPM",value:"npm"}],mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"yarn",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add interweave interweave-autolink\n"))),(0,i.kt)(o.Z,{value:"npm",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"npm install interweave interweave-autolink\n")))),(0,i.kt)("h2",{id:"urls"},"URLs"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"UrlMatcher")," will match most variations of a URL and its segments. This includes the protocol,\nuser and password auth, host, port, path, query, and fragment."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import { Interweave } from 'interweave';\nimport { UrlMatcher } from 'interweave-autolink';\n\n<Interweave\n    content=\"URL: https://github.com/milesj/interweave\"\n    matchers={[new UrlMatcher('url')]}\n/>;\n")),(0,i.kt)("h3",{id:"tld-support"},"TLD support"),(0,i.kt)("p",null,"By default, the ",(0,i.kt)("inlineCode",{parentName:"p"},"UrlMatcher")," will validate top-level domains against a list of the most common TLDs\n(like .com, .net, and countries). You can disable this validation with the ",(0,i.kt)("inlineCode",{parentName:"p"},"validateTLD")," option."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"new UrlMatcher('url', { validateTLD: false });\n")),(0,i.kt)("p",null,"Or you can provide a list of additional TLDs to validate with."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"new UrlMatcher('url', { customTLDs: ['life', 'tech', 'ninja'] });\n")),(0,i.kt)("h3",{id:"props"},"Props"),(0,i.kt)("p",null,"The following props are available for ",(0,i.kt)("inlineCode",{parentName:"p"},"<Url />")," components, all of which should be passed to an\n",(0,i.kt)("inlineCode",{parentName:"p"},"<Interweave />")," instance."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"newWindow")," (",(0,i.kt)("inlineCode",{parentName:"li"},"boolean"),") - Open links in a new window. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"onClick")," (",(0,i.kt)("inlineCode",{parentName:"li"},"func"),") - Callback triggered when a link is clicked.")),(0,i.kt)("h3",{id:"result"},"Result"),(0,i.kt)("p",null,"If a match is found, a ",(0,i.kt)("inlineCode",{parentName:"p"},"<Url />")," component will be rendered and passed the following props."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"url")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The entire URL/IP that was matched."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"urlParts")," (",(0,i.kt)("inlineCode",{parentName:"li"},"object"),") - Parts for the previous.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"scheme")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),') - The protocol. Defaults to "http".'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"auth")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The username and password authorization, excluding ",(0,i.kt)("inlineCode",{parentName:"li"},"@"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"host")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The host, domain, or IP address."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"port")," (",(0,i.kt)("inlineCode",{parentName:"li"},"number"),") - The port number."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The path."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"query")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The query string."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"fragment")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The hash fragment, including ",(0,i.kt)("inlineCode",{parentName:"li"},"#"),".")))),(0,i.kt)("h2",{id:"ips"},"IPs"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"UrlMatcher")," does not support IP based hosts as I wanted a clear distinction between supporting\nthese two patterns separately. To support IPs, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"IpMatcher"),", which will match hosts that\nconform to a valid IPv4 address (IPv6 not supported). Like the ",(0,i.kt)("inlineCode",{parentName:"p"},"UrlMatcher"),", all segments are\nincluded."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import { Interweave } from 'interweave';\nimport { IpMatcher } from 'interweave-autolink';\n\n<Interweave content=\"IP: 127.0.0.1\" matchers={[new IpMatcher('ip')]} />;\n")),(0,i.kt)("h3",{id:"props-1"},"Props"),(0,i.kt)("p",null,"The following props are available for ",(0,i.kt)("inlineCode",{parentName:"p"},"<Ip />")," components, all of which should be passed to an\n",(0,i.kt)("inlineCode",{parentName:"p"},"<Interweave />")," instance."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"newWindow")," (",(0,i.kt)("inlineCode",{parentName:"li"},"boolean"),") - Open links in a new window. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"onClick")," (",(0,i.kt)("inlineCode",{parentName:"li"},"func"),") - Callback triggered when a link is clicked.")),(0,i.kt)("h3",{id:"result-1"},"Result"),(0,i.kt)("p",null,"If a match is found, an ",(0,i.kt)("inlineCode",{parentName:"p"},"<Ip />")," component is rendered with the same props as ",(0,i.kt)("inlineCode",{parentName:"p"},"<Url />"),"."),(0,i.kt)("h2",{id:"emails"},"Emails"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"EmailMatcher"),' will match an email address and link it using a "mailto:" target.'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import { Interweave } from 'interweave';\nimport { EmailMatcher } from 'interweave-autolink';\n\n<Interweave content=\"Email: miles@interweave.com\" matchers={[new EmailMatcher('email')]} />;\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"This matcher ",(0,i.kt)("em",{parentName:"p"},"must")," come before the URL matcher for everything to work correctly.")),(0,i.kt)("h3",{id:"props-2"},"Props"),(0,i.kt)("p",null,"The following props are available for ",(0,i.kt)("inlineCode",{parentName:"p"},"<Email />")," components, all of which should be passed to an\n",(0,i.kt)("inlineCode",{parentName:"p"},"<Interweave />")," instance."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"onClick")," (",(0,i.kt)("inlineCode",{parentName:"li"},"func"),") - Callback triggered when a link is clicked.")),(0,i.kt)("h3",{id:"result-2"},"Result"),(0,i.kt)("p",null,"If a match is found, an ",(0,i.kt)("inlineCode",{parentName:"p"},"<Email />")," component will be rendered and passed the following props."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"email")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The entire email address that was matched."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"emailParts")," (",(0,i.kt)("inlineCode",{parentName:"li"},"object"),")",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"username")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The username. Found before the ",(0,i.kt)("inlineCode",{parentName:"li"},"@"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"host")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The host or domain. Found after the ",(0,i.kt)("inlineCode",{parentName:"li"},"@"),".")))),(0,i.kt)("h2",{id:"hashtags"},"Hashtags"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"HashtagMatcher")," will match a common hashtag (like Twitter and Instagram) and link it using a\ncustom URL (passed as a prop). Hashtag matching supports alpha-numeric (",(0,i.kt)("inlineCode",{parentName:"p"},"a-z0-9"),"), underscore (",(0,i.kt)("inlineCode",{parentName:"p"},"_"),"),\nand dash (",(0,i.kt)("inlineCode",{parentName:"p"},"-"),") characters, and must start with a ",(0,i.kt)("inlineCode",{parentName:"p"},"#"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import { Interweave } from 'interweave';\nimport { HashtagMatcher } from 'interweave-autolink';\n\n<Interweave content=\"Hashtag: #interweave\" matchers={[new HashtagMatcher('hashtag')]} />;\n")),(0,i.kt)("h3",{id:"props-3"},"Props"),(0,i.kt)("p",null,"The following props are available for ",(0,i.kt)("inlineCode",{parentName:"p"},"<Hashtag />")," components, all of which should be passed to an\n",(0,i.kt)("inlineCode",{parentName:"p"},"<Interweave />")," instance."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"encodeHashtag")," (",(0,i.kt)("inlineCode",{parentName:"li"},"boolean"),") - Encodes the hashtag using ",(0,i.kt)("inlineCode",{parentName:"li"},"encodeURIComponent()"),". Defaults to\n",(0,i.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"hashtagUrl")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string | func"),") - The URL to interpolate the matched hashtag with."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"newWindow")," (",(0,i.kt)("inlineCode",{parentName:"li"},"boolean"),") - Open links in a new window. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"preserveHash")," (",(0,i.kt)("inlineCode",{parentName:"li"},"boolean"),") - Preserve the leading hash (",(0,i.kt)("inlineCode",{parentName:"li"},"#"),") when interpolating into a URL.\nDefaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"onClick")," (",(0,i.kt)("inlineCode",{parentName:"li"},"func"),") - Callback triggered when a link is clicked.")),(0,i.kt)("p",null,"Hashtags require a URL to link to, which is defined by the ",(0,i.kt)("inlineCode",{parentName:"p"},"hashtagUrl")," prop. The URL must declare\nthe following token, ",(0,i.kt)("inlineCode",{parentName:"p"},"{{hashtag}}"),", which will be replaced by the matched hashtag. Or a function can\nbe passed, which receives the hashtag as the 1st argument."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"<Interweave\n  hashtagUrl=\"https://twitter.com/hashtag/{{hashtag}}\"\n  matchers={[new HashtagMatcher('hashtag')]}\n/>\n\n// OR\n\n<Interweave\n  hashtagUrl={hashtag => `https://twitter.com/hashtag/${hashtag}`}\n  matchers={[new HashtagMatcher('hashtag')]}\n/>\n")),(0,i.kt)("h3",{id:"result-3"},"Result"),(0,i.kt)("p",null,"If a match is found, a ",(0,i.kt)("inlineCode",{parentName:"p"},"<Hashtag />")," component will be rendered and passed the following props."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"hashtag")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string"),") - The entire hashtag that was matched (with ",(0,i.kt)("inlineCode",{parentName:"li"},"#"),").")))}k.isMDXComponent=!0}}]);